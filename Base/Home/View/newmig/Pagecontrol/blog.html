<volist name="blog" id="blogdata">
    <section class="indexarticle">
        <header class="well"><a href="{:U('/lookblog')}/{$blogdata.blog_number}">{$blogdata.blog_name}</a></header>
        <a href="{:U('/lookblog')}/{$blogdata.blog_number}" title="{$blogdata.blog_name}"><img src="{$blogdata.blog_img}" class="img-thumbnail pull-left" /></a>
        <p><a href="{:U('/lookblog')}/{$blogdata.blog_number}">{$blogdata.blog_name2}</a></p>
        <a href="{:U('/lookblog')}/{$blogdata.blog_number}" class="btn btn-info pull-right">查看全部</a>
        <footer class="well well-sm text-center">
            <span class="hidden-xs">发表于</span><time>{$blogdata.blog_time}</time>
            <span class="hidden-xs">作者：</span>{$blogdata.blog_author}
            <span  class="hidden-xs">所属分类：</span>【{$blogdata.blog_class}】
        </footer>
    </section>
</volist>
<section class="text-center">
    <ul class="pagination">
        <if condition="$page eq nopage">
            <li class="active"><span class="current">1</span></li>
            <else />{$page}
        </if>
    </ul>
</section>
<script>
$(".pagination li a").click(function()
    {
        $("html,body").animate({scrollTop:$("body").offset().top},500);
        var classname = '{$blog_class["blog_class"]}';
        var classsearch = '{$blog_class["blog_search"]}';
        var active = $('.pagination li span').html();   //当前页
        var pagenumber = $(this).html();                //页数
        switch(pagenumber)
        {
        case '上一页':
            var gonumber = (parseInt(active)-1);
            break;
        case '下一页':
            var gonumber = (parseInt(active)+1);
            break;
        case '末页':
            var gonumber = '{$blog_class["pages"]}';
            break;
        case '首页':
            var gonumber = 1;
            break;
        default:
            var gonumber = pagenumber;
            break;
        }
        if(classname){
        $.get("{:U('pagecontrol/blog')}?page="+gonumber+"&blog_class="+classname,function(response)
        {
            $("#blog").html(response);
        });
        }
        else{
        $.get("{:U('pagecontrol/blog')}?page="+gonumber+"&blog_search="+classsearch,function(response)
        {
            $("#blog").html(response);
        });
        }
        return false;
    });
</script>